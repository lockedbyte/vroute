/*


*/

#define VROUTE_VERSION "1.0.0"

#define DEBUG 1

#define POLL_TIMEOUT 2000

#define IN_ANY_ADDR "0.0.0.0"

#define DATA_PREFIX "<img src='data:image/jpeg;base64,"
#define DATA_SUFFIX "' />"

#define DATA_INPUT_PREFIX "token="
#define DATA_INPUT_SUFFIX "; expire=0;"

#define OK_HTTP_RESPONSE "HTTP/1.1 200 OK"
#define DEFAULT_HTTP_USER_AGENT "Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36"
#define DEFAULT_HTTP_PATH "/index.html"

#define RELAY_TIMEOUT 60

#define VR_LOG(...) vr_log(__func__, __VA_ARGS__)

#if DEBUG
#define hexdump(tag, mem, size) __hexdump(__func__, tag, mem, size)
#else
#define hexdump(tag, mem, size) ((void)0)
#endif

#if DEBUG

#define VR_LOG(...) vr_log(__func__, __VA_ARGS__)
#define hexdump(tag, mem, size) __hexdump(__func__, tag, mem, size)

#define MAX_LOG_MESSAGE_SIZE 4096
#define LOG_PREFIX_STR "[VROUTE]"

typedef enum {
    UNKNOWN_LOG_LEVEL = 0,
    LOG_WARN,
    LOG_INFO,
    LOG_DEBUG,
    LOG_ERROR,
} log_level_t;

#else

#define VR_LOG(ll, fmt, ...) ((void)0)
#define hexdump(tag, mem, size) ((void)0)

#endif

#define MAX_LOG_MESSAGE_SIZE 4096
#define LOG_PREFIX_STR "[VROUTE]"

#define LAST_CONN_GAP_THRESHOLD 60 * 5 // 5 minutes

#define ROUTE_REQUEST_PROCESS_TIMEOUT 60 /* 1 minute */

